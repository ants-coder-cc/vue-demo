<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>axios</title>
		<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        
	</head>
	<body>
        <div class="app-container">
            <button class="get">get</button>
            <button class="post">post</button>
            <button class="del">del</button>
            <button class="put">put</button>
            <button class="option">option</button>
        </div>
        <script>
            function Person(name,age) {
                this.name = name;
                this.age = age;
            }
            // Person.prototype.sayHi = function() {
            //     console.log(`${this.name} ++++++ ${this.age}`)
            // }
            // let p1 = new Person('qq','2222');
            // p1.sayHi();
            // class Person{
            //     constructor(name,age) {
            //         this.name = name;
            //         this.age = age;
            //     }
            // }
            // class Student extends Person{
                
            // }
            console.dir(axios);
            axios.defaults.method = 'GET';
            axios.defaults.baseURL = 'http://localhost:3000/';
            console.log(axios.defaults);
            const http = axios.create({
                baseURL:'https://api.apiopen.top',
                timeout:2000
            })
            http({
                url:'/getJoke'
            }).then(res => {
                console.log('httpres',res)
            })
            $('.get').on('click',function() {
                console.log(axios);
                axios({
                    url: 'posts'
                }).then(res => {
                    console.log(res);
                    console.log(res.data);
                    console.log(res.config.baseURL);
                })
            })
            // 提交
            $('.post').on('click',function() {
                console.log(axios);
                axios({
                    method:'POST',
                    url: 'http://localhost:3000/posts',
                    data: {
                        title:'今天天气不错',
                        author:'test'
                    }
                }).then(res => {
                    console.log(res);
                })
            })
            $('.option').on('click',function() {
                // console.log(axios);
                axios({
                    method:'option',
                    // url: 'http://localhost:3000/posts',
                    // data: {
                    //     title:'今天天气不错',
                    //     author:'test'
                    // }
                }).then(res => {
                    console.log(res);
                })
            })
            $('.del').on('click',function() {
                console.log(axios);
                axios({
                    method:'del',
                    url: 'http://localhost:3000/posts'
                }).then(res => {
                    console.log(res);
                })
            })
            //  更新
            $('.put').on('click',function() {
                console.log(axios);
                axios({
                    method:'put',   
                    url: 'http://localhost:3000/posts/3',
                    data:{
                        title:'今天天气不错',
                        author:'今天天气不错'
                    }
                }).then(res => {
                    console.log(res);
                })
            })
        </script>
    </body>
</html>
